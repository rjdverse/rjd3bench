<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Benchmarking of an atypical frequency series by means of the Denton method. — denton_raw • rjd3bench</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Benchmarking of an atypical frequency series by means of the Denton method. — denton_raw"><meta name="description" content='Denton method relies on the principle of movement preservation. There exist a
few variants corresponding to different definitions of movement preservation:
additive first difference (AFD), proportional first difference (PFD),
additive second difference (ASD), proportional second difference (PSD), etc.
The default and most widely used is the Denton PFD method. This "raw"
function extends the denton() function in a way that it can deal with any
frequency ratio between the preliminary series and the aggregation
constraint.'><meta property="og:description" content='Denton method relies on the principle of movement preservation. There exist a
few variants corresponding to different definitions of movement preservation:
additive first difference (AFD), proportional first difference (PFD),
additive second difference (ASD), proportional second difference (PSD), etc.
The default and most widely used is the Denton PFD method. This "raw"
function extends the denton() function in a way that it can deal with any
frequency ratio between the preliminary series and the aggregation
constraint.'><meta property="og:image" content="https://rjdverse.github.io/rjd3bench/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rjd3bench</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rjd3bench.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rjdverse/rjd3bench/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Benchmarking of an atypical frequency series by means of the Denton method.</h1>
      <small class="dont-index">Source: <a href="https://github.com/rjdverse/rjd3bench/blob/main/R/benchmark.R" class="external-link"><code>R/benchmark.R</code></a></small>
      <div class="d-none name"><code>denton_raw.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Denton method relies on the principle of movement preservation. There exist a
few variants corresponding to different definitions of movement preservation:
additive first difference (AFD), proportional first difference (PFD),
additive second difference (ASD), proportional second difference (PSD), etc.
The default and most widely used is the Denton PFD method. This "raw"
function extends the denton() function in a way that it can deal with any
frequency ratio between the preliminary series and the aggregation
constraint.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">denton_raw</span><span class="op">(</span></span>
<span>  s <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">t</span>,</span>
<span>  <span class="va">freqratio</span>,</span>
<span>  d <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  mul <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  modified <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  conversion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sum"</span>, <span class="st">"Average"</span>, <span class="st">"Last"</span>, <span class="st">"First"</span>, <span class="st">"UserDefined"</span><span class="op">)</span>,</span>
<span>  obsposition <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  startoffset <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  nbcsts <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  nfcsts <span class="op">=</span> <span class="fl">0L</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-s">s<a class="anchor" aria-label="anchor" href="#arg-s"></a></dt>
<dd><p>Preliminary series. If not NULL, it must be a numeric vector.</p></dd>


<dt id="arg-t">t<a class="anchor" aria-label="anchor" href="#arg-t"></a></dt>
<dd><p>Aggregation constraint. Mandatory. It must be a numeric vector.</p></dd>


<dt id="arg-freqratio">freqratio<a class="anchor" aria-label="anchor" href="#arg-freqratio"></a></dt>
<dd><p>Frequency ratio between the benchmarked series and the
aggregation constraint. Mandatory. It must be a positive integer.</p></dd>


<dt id="arg-d">d<a class="anchor" aria-label="anchor" href="#arg-d"></a></dt>
<dd><p>Differencing order. 1 by default.</p></dd>


<dt id="arg-mul">mul<a class="anchor" aria-label="anchor" href="#arg-mul"></a></dt>
<dd><p>Multiplicative or additive benchmarking. Multiplicative by
default.</p></dd>


<dt id="arg-modified">modified<a class="anchor" aria-label="anchor" href="#arg-modified"></a></dt>
<dd><p>Modified (TRUE) or unmodified (FALSE) Denton. Modified by
default.</p></dd>


<dt id="arg-conversion">conversion<a class="anchor" aria-label="anchor" href="#arg-conversion"></a></dt>
<dd><p>Conversion rule. Usually "Sum" or "Average". Sum by
default.</p></dd>


<dt id="arg-obsposition">obsposition<a class="anchor" aria-label="anchor" href="#arg-obsposition"></a></dt>
<dd><p>Position of the observation in the aggregated period (only
used with "UserDefined" conversion).</p></dd>


<dt id="arg-startoffset">startoffset<a class="anchor" aria-label="anchor" href="#arg-startoffset"></a></dt>
<dd><p>Number of initial observations in the indicator(s) series that are prior to
the period covered by the low-frequency series.
Must be 0 or a positive integer. 0 by default. Ignored when no preliminary series is provided.</p></dd>


<dt id="arg-nbcsts">nbcsts<a class="anchor" aria-label="anchor" href="#arg-nbcsts"></a></dt>
<dd><p>Number of backcast periods. Ignored when a preliminary series
is provided. (not yet implemented)</p></dd>


<dt id="arg-nfcsts">nfcsts<a class="anchor" aria-label="anchor" href="#arg-nfcsts"></a></dt>
<dd><p>Number of forecast periods. Ignored when a preliminary series
is provided. (not yet implemented)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Numeric vector. The benchmarked series.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fl">510</span>,<span class="fl">525</span>,<span class="fl">520</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">97</span>, <span class="fl">98</span>, <span class="fl">98.5</span>, <span class="fl">99.5</span>, <span class="fl">104</span>,</span></span>
<span class="r-in"><span>       <span class="fl">99</span>, <span class="fl">100</span>, <span class="fl">100.5</span>, <span class="fl">101</span>, <span class="fl">105.5</span>,</span></span>
<span class="r-in"><span>       <span class="fl">103</span>, <span class="fl">104.5</span>, <span class="fl">103.5</span>, <span class="fl">104.5</span>, <span class="fl">109</span>,</span></span>
<span class="r-in"><span>       <span class="fl">104</span>, <span class="fl">107</span>, <span class="fl">103</span>, <span class="fl">108</span>, <span class="fl">113</span>,</span></span>
<span class="r-in"><span>       <span class="fl">110</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># denton PFD (for example, x and Y could be annual and quiquennal series respectively)</span></span></span>
<span class="r-in"><span><span class="fu">denton_raw</span><span class="op">(</span><span class="va">x</span>, <span class="va">Y</span>, freqratio <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  97.53918  98.55612  99.08195 100.12282 104.69992  99.72518 100.77674</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 101.30957 101.82703 106.36148 103.82195 105.14453 103.77995 104.24995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15] 108.00362 102.16847 104.38553  99.95494 104.42926 109.06180 106.16635</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># denton AFD</span></span></span>
<span class="r-in"><span><span class="fu">denton_raw</span><span class="op">(</span><span class="va">x</span>, <span class="va">Y</span>, freqratio <span class="op">=</span> <span class="fl">5</span>, mul <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  97.55184  98.56388  99.08796 100.12408 104.67224  99.73243 100.77942</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 101.31321 101.83378 106.34115 103.83532 105.14857 103.78091 104.23234</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15] 108.00286 102.09247 104.36416  99.81792 104.45377 109.27169 106.27169</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># denton PFD without indicator</span></span></span>
<span class="r-in"><span><span class="fu">denton_raw</span><span class="op">(</span>t <span class="op">=</span> <span class="va">Y</span>, freqratio <span class="op">=</span> <span class="fl">2</span>, conversion <span class="op">=</span> <span class="st">"Average"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 498.75 501.25 506.25 513.75 523.75 526.25 521.25 518.75</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># denton PFD with/without an offset and conversion = "Last"</span></span></span>
<span class="r-in"><span><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">485</span>,</span></span>
<span class="r-in"><span>        <span class="fl">490</span>, <span class="fl">492.5</span>, <span class="fl">497.5</span>, <span class="fl">520</span>, <span class="fl">495</span>,</span></span>
<span class="r-in"><span>        <span class="fl">500</span>, <span class="fl">502.5</span>, <span class="fl">505</span>, <span class="fl">527.5</span>, <span class="fl">515</span>,</span></span>
<span class="r-in"><span>        <span class="fl">522.5</span>, <span class="fl">517.5</span>, <span class="fl">522.5</span>, <span class="fl">545</span>, <span class="fl">520</span>,</span></span>
<span class="r-in"><span>        <span class="fl">535</span>, <span class="fl">515</span>, <span class="fl">540</span>, <span class="fl">565</span>, <span class="fl">550</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">denton_raw</span><span class="op">(</span><span class="va">x2</span>, <span class="va">Y</span>, freqratio <span class="op">=</span> <span class="fl">5</span>, conversion <span class="op">=</span> <span class="st">"Last"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 466.3462 471.1538 473.5577 478.3654 500.0000 476.4849 481.8265 484.7669</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] 487.7125 510.0000 497.5519 504.4298 499.2382 503.6937 525.0000 496.4508</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17] 506.1759 482.8297 501.6296 520.0000 506.1947</span>
<span class="r-in"><span><span class="fu">denton_raw</span><span class="op">(</span><span class="va">x2</span>, <span class="va">Y</span>, freqratio <span class="op">=</span> <span class="fl">5</span>, conversion <span class="op">=</span> <span class="st">"Last"</span>, startoffset <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 489.8990 494.9495 497.4747 502.5253 525.2525 500.0000 503.0695 503.5940</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] 504.0987 524.4686 510.0000 519.4466 516.4758 523.4853 548.1341 525.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17] 533.2790 506.7348 524.4042 541.4320 520.0000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jean Palate, Corentin Lemasson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

