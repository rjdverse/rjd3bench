<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Interpolation of an atypical frequency series by regression models. — temporal_interpolation_raw • rjd3bench</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Interpolation of an atypical frequency series by regression models. — temporal_interpolation_raw"><meta name="description" content='Perform temporal interpolation of low frequency to high frequency time
series by regression models. Models included are Chow-Lin, Fernandez,
Litterman and some variants of those algorithms. This "raw" function extends
the temporal_interpolation() function in a way that it can deal with any
frequency ratio.'><meta property="og:description" content='Perform temporal interpolation of low frequency to high frequency time
series by regression models. Models included are Chow-Lin, Fernandez,
Litterman and some variants of those algorithms. This "raw" function extends
the temporal_interpolation() function in a way that it can deal with any
frequency ratio.'><meta property="og:image" content="https://rjdverse.github.io/rjd3bench/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rjd3bench</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.0.9500</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rjd3bench.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rjdverse/rjd3bench/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Interpolation of an atypical frequency series by regression models.</h1>
      <small class="dont-index">Source: <a href="https://github.com/rjdverse/rjd3bench/blob/develop/R/tempdisagg.R" class="external-link"><code>R/tempdisagg.R</code></a></small>
      <div class="d-none name"><code>temporal_interpolation_raw.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Perform temporal interpolation of low frequency to high frequency time
series by regression models. Models included are Chow-Lin, Fernandez,
Litterman and some variants of those algorithms. This "raw" function extends
the temporal_interpolation() function in a way that it can deal with any
frequency ratio.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">temporal_interpolation_raw</span><span class="op">(</span></span>
<span>  <span class="va">series</span>,</span>
<span>  constant <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  trend <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  indicators <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  startoffset <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Ar1"</span>, <span class="st">"Rw"</span>, <span class="st">"RwAr1"</span><span class="op">)</span>,</span>
<span>  <span class="va">freqratio</span>,</span>
<span>  obsposition <span class="op">=</span> <span class="op">-</span><span class="fl">1L</span>,</span>
<span>  rho <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  rho.fixed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rho.truncated <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  zeroinitialization <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  diffuse.algorithm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SqrtDiffuse"</span>, <span class="st">"Diffuse"</span>, <span class="st">"Augmented"</span><span class="op">)</span>,</span>
<span>  diffuse.regressors <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  nbcsts <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  nfcsts <span class="op">=</span> <span class="fl">0L</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-series">series<a class="anchor" aria-label="anchor" href="#arg-series"></a></dt>
<dd><p>The low frequency series that will be interpolated. Must be a numeric vector.</p></dd>


<dt id="arg-constant">constant<a class="anchor" aria-label="anchor" href="#arg-constant"></a></dt>
<dd><p>Constant term (T/F). Only used with "Ar1" model when zeroinitialization = F.</p></dd>


<dt id="arg-trend">trend<a class="anchor" aria-label="anchor" href="#arg-trend"></a></dt>
<dd><p>Linear trend (T/F, F by default)</p></dd>


<dt id="arg-indicators">indicators<a class="anchor" aria-label="anchor" href="#arg-indicators"></a></dt>
<dd><p>High-frequency indicator(s) used in the interpolation.
If not NULL, it must be either a numeric vector or a matrix.</p></dd>


<dt id="arg-startoffset">startoffset<a class="anchor" aria-label="anchor" href="#arg-startoffset"></a></dt>
<dd><p>Number of initial observations in the indicator(s) series
  that are prior to the first observation of the low-frequency series.
Must be 0 or a positive integer. 0 by default. Ignored when no indicator is provided.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>Model of the error term (at the higher-frequency level).
"Ar1" = Chow-Lin, "Rw" = Fernandez, "RwAr1" = Litterman.</p></dd>


<dt id="arg-freqratio">freqratio<a class="anchor" aria-label="anchor" href="#arg-freqratio"></a></dt>
<dd><p>Frequency ratio between the interpolated series and the low frequency series.
Mandatory. Must be a positive integer.</p></dd>


<dt id="arg-obsposition">obsposition<a class="anchor" aria-label="anchor" href="#arg-obsposition"></a></dt>
<dd><p>Integer. Position of the observations of the low frequency
series in the interpolated series. (e.g. 1st month of the year, 2d month of
the year, etc.). It must be a positive integer or -1 (the default). The
default value is equivalent to setting the value of the parameter equal to
the frequency of the series, meaning that the last value of the
interpolated series is consistent with the low frequency series.</p></dd>


<dt id="arg-rho">rho<a class="anchor" aria-label="anchor" href="#arg-rho"></a></dt>
<dd><p>(Initial) value of the parameter. Only used with Ar1/RwAr1 models.</p></dd>


<dt id="arg-rho-fixed">rho.fixed<a class="anchor" aria-label="anchor" href="#arg-rho-fixed"></a></dt>
<dd><p>Fixed rho (T/F, F by default)</p></dd>


<dt id="arg-rho-truncated">rho.truncated<a class="anchor" aria-label="anchor" href="#arg-rho-truncated"></a></dt>
<dd><p>Range for Rho evaluation (in [rho.truncated, 1[)</p></dd>


<dt id="arg-zeroinitialization">zeroinitialization<a class="anchor" aria-label="anchor" href="#arg-zeroinitialization"></a></dt>
<dd><p>The initial values of an auto-regressive model are
fixed to 0 (T/F, F by default)</p></dd>


<dt id="arg-diffuse-algorithm">diffuse.algorithm<a class="anchor" aria-label="anchor" href="#arg-diffuse-algorithm"></a></dt>
<dd><p>Algorithm used for diffuse initialization.
"SqrtDiffuse" by default</p></dd>


<dt id="arg-diffuse-regressors">diffuse.regressors<a class="anchor" aria-label="anchor" href="#arg-diffuse-regressors"></a></dt>
<dd><p>Indicates if the coefficients of the regression
model are diffuse (T) or fixed unknown (F, default)</p></dd>


<dt id="arg-nbcsts">nbcsts<a class="anchor" aria-label="anchor" href="#arg-nbcsts"></a></dt>
<dd><p>Number of backcast periods. Ignored when an indicator is provided.</p></dd>


<dt id="arg-nfcsts">nfcsts<a class="anchor" aria-label="anchor" href="#arg-nfcsts"></a></dt>
<dd><p>Number of forecast periods. Ignored when an indicator is provided.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class "JD3InterpolationRaw"</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="temporal_disaggregation_raw.html">temporal_disaggregation_raw</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use of chow-lin method to interpolate a biennial series with an annual indicator</span></span></span>
<span class="r-in"><span><span class="co"># (low frequency series consistent with the last value of the interpolated series)</span></span></span>
<span class="r-in"><span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html" class="external-link">aggregate</a></span><span class="op">(</span><span class="fu">rjd3toolkit</span><span class="fu">::</span><span class="va"><a href="https://rjdverse.github.io/rjd3toolkit/reference/Retail.html" class="external-link">Retail</a></span><span class="op">$</span><span class="va">RetailSalesTotal</span>, <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html" class="external-link">aggregate</a></span><span class="op">(</span><span class="fu">rjd3toolkit</span><span class="fu">::</span><span class="va"><a href="https://rjdverse.github.io/rjd3toolkit/reference/Retail.html" class="external-link">Retail</a></span><span class="op">$</span><span class="va">FoodAndBeverageStores</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ti</span> <span class="op">&lt;-</span> <span class="fu">temporal_interpolation_raw</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">Y</span><span class="op">)</span>, indicators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, freqratio <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ti</span><span class="op">$</span><span class="va">estimation</span><span class="op">$</span><span class="va">interp</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 3757964 4324395 4332525 4655006 4840668 5050272 5395661 5556665 6056481</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10] 6155126 6402476 6402063 7177121 7105610 7885934 7936844 7591404 8389142</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19] 8654201</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use of Fernandez method to interpolate a series without indicator considering a frequency ratio of 5 (for example, it could be a quinquennial series to interpolate annually)</span></span></span>
<span class="r-in"><span><span class="co"># (low frequency series consistent with the last value of the interpolated series)</span></span></span>
<span class="r-in"><span><span class="va">Y2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fl">510</span>,<span class="fl">525</span>,<span class="fl">520</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ti2</span> <span class="op">&lt;-</span> <span class="fu">temporal_interpolation_raw</span><span class="op">(</span><span class="va">Y2</span>, model <span class="op">=</span> <span class="st">"Rw"</span>, freqratio <span class="op">=</span> <span class="fl">5</span>, nbcsts <span class="op">=</span> <span class="fl">1</span>, nfcsts <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ti2</span><span class="op">$</span><span class="va">estimation</span><span class="op">$</span><span class="va">interp</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 500 500 502 504 506 508 510 513 516 519 522 525 524 523 522 521 520 520 520</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># same with an indicator, considering an offset in the latter</span></span></span>
<span class="r-in"><span><span class="va">Y2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fl">510</span>,<span class="fl">525</span>,<span class="fl">520</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">485</span>,</span></span>
<span class="r-in"><span>        <span class="fl">490</span>, <span class="fl">492.5</span>, <span class="fl">497.5</span>, <span class="fl">520</span>, <span class="fl">495</span>,</span></span>
<span class="r-in"><span>        <span class="fl">500</span>, <span class="fl">502.5</span>, <span class="fl">505</span>, <span class="fl">527.5</span>, <span class="fl">515</span>,</span></span>
<span class="r-in"><span>        <span class="fl">522.5</span>, <span class="fl">517.5</span>, <span class="fl">522.5</span>, <span class="fl">545</span>, <span class="fl">520</span>,</span></span>
<span class="r-in"><span>        <span class="fl">535</span>, <span class="fl">515</span>, <span class="fl">540</span>, <span class="fl">565</span>, <span class="fl">550</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ti3</span> <span class="op">&lt;-</span> <span class="fu">temporal_interpolation_raw</span><span class="op">(</span><span class="va">Y2</span>, indicators <span class="op">=</span> <span class="va">x2</span>, startoffset <span class="op">=</span> <span class="fl">1</span>, model <span class="op">=</span> <span class="st">"Rw"</span>, freqratio <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ti3</span><span class="op">$</span><span class="va">estimation</span><span class="op">$</span><span class="va">interp</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 497.5410 500.0000 502.2459 505.7213 517.8033 506.5246 510.0000 512.0164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] 514.0328 525.8852 520.5246 525.0000 520.3115 520.5410 529.3770 514.8525</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17] 520.0000 510.1639 522.4590 534.7541 527.3770</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># same considering that the first value of the interpolated series is the one consistent with the low frequency series</span></span></span>
<span class="r-in"><span><span class="va">ti4</span> <span class="op">&lt;-</span> <span class="fu">temporal_interpolation_raw</span><span class="op">(</span><span class="va">Y2</span>, indicators <span class="op">=</span> <span class="va">x2</span>, startoffset <span class="op">=</span> <span class="fl">1</span>, model <span class="op">=</span> <span class="st">"Rw"</span>, freqratio <span class="op">=</span> <span class="fl">5</span>, obsposition <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ti4</span><span class="op">$</span><span class="va">estimation</span><span class="op">$</span><span class="va">interp</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 497.5410 500.0000 502.2459 505.7213 517.8033 506.5246 510.0000 512.0164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] 514.0328 525.8852 520.5246 525.0000 520.3115 520.5410 529.3770 514.8525</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17] 520.0000 510.1639 522.4590 534.7541 527.3770</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jean Palate, Corentin Lemasson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

