<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Benchmarking by means of the Denton method. — denton • rjd3bench</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Benchmarking by means of the Denton method. — denton"><meta name="description" content="Denton method relies on the principle of movement preservation. There exist a
few variants corresponding to different definitions of movement preservation:
additive first difference (AFD), proportional first difference (PFD),
additive second difference (ASD), proportional second difference (PSD), etc.
The default and most widely used is the Denton PFD method."><meta property="og:description" content="Denton method relies on the principle of movement preservation. There exist a
few variants corresponding to different definitions of movement preservation:
additive first difference (AFD), proportional first difference (PFD),
additive second difference (ASD), proportional second difference (PSD), etc.
The default and most widely used is the Denton PFD method."><meta property="og:image" content="https://rjdverse.github.io/rjd3bench/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rjd3bench</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.0.9500</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rjd3bench.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rjdverse/rjd3bench/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Benchmarking by means of the Denton method.</h1>
      <small class="dont-index">Source: <a href="https://github.com/rjdverse/rjd3bench/blob/develop/R/benchmark.R" class="external-link"><code>R/benchmark.R</code></a></small>
      <div class="d-none name"><code>denton.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Denton method relies on the principle of movement preservation. There exist a
few variants corresponding to different definitions of movement preservation:
additive first difference (AFD), proportional first difference (PFD),
additive second difference (ASD), proportional second difference (PSD), etc.
The default and most widely used is the Denton PFD method.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">denton</span><span class="op">(</span></span>
<span>  s <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">t</span>,</span>
<span>  d <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  mul <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  nfreq <span class="op">=</span> <span class="fl">4L</span>,</span>
<span>  modified <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  conversion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sum"</span>, <span class="st">"Average"</span>, <span class="st">"Last"</span>, <span class="st">"First"</span>, <span class="st">"UserDefined"</span><span class="op">)</span>,</span>
<span>  obsposition <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  nbcsts <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  nfcsts <span class="op">=</span> <span class="fl">0L</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-s">s<a class="anchor" aria-label="anchor" href="#arg-s"></a></dt>
<dd><p>Preliminary series. If not NULL, it must be the same class as t.</p></dd>


<dt id="arg-t">t<a class="anchor" aria-label="anchor" href="#arg-t"></a></dt>
<dd><p>Aggregation constraint. Mandatory. it must be either an object of
class ts or a numeric vector.</p></dd>


<dt id="arg-d">d<a class="anchor" aria-label="anchor" href="#arg-d"></a></dt>
<dd><p>Differencing order. 1 by default.</p></dd>


<dt id="arg-mul">mul<a class="anchor" aria-label="anchor" href="#arg-mul"></a></dt>
<dd><p>Multiplicative or additive benchmarking. Multiplicative by
default.</p></dd>


<dt id="arg-nfreq">nfreq<a class="anchor" aria-label="anchor" href="#arg-nfreq"></a></dt>
<dd><p>Annual frequency of the disaggregated variable. Used if no
disaggregated series is provided.</p></dd>


<dt id="arg-modified">modified<a class="anchor" aria-label="anchor" href="#arg-modified"></a></dt>
<dd><p>Modified (TRUE) or unmodified (FALSE) Denton. Modified by
default.</p></dd>


<dt id="arg-conversion">conversion<a class="anchor" aria-label="anchor" href="#arg-conversion"></a></dt>
<dd><p>Conversion rule. Usually "Sum" or "Average". Sum by
default.</p></dd>


<dt id="arg-obsposition">obsposition<a class="anchor" aria-label="anchor" href="#arg-obsposition"></a></dt>
<dd><p>Position of the observation in the aggregated period (only
used with "UserDefined" conversion).</p></dd>


<dt id="arg-nbcsts">nbcsts<a class="anchor" aria-label="anchor" href="#arg-nbcsts"></a></dt>
<dd><p>Number of backcast periods. Ignored when a preliminary
series is provided. (not yet implemented)</p></dd>


<dt id="arg-nfcsts">nfcsts<a class="anchor" aria-label="anchor" href="#arg-nfcsts"></a></dt>
<dd><p>Number of forecast periods. Ignored when a preliminary
series is provided. (not yet implemented)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The benchmarked series is returned</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="fu">rjd3toolkit</span><span class="fu">::</span><span class="fu"><a href="https://rjdverse.github.io/rjd3toolkit/reference/aggregate.html" class="external-link">aggregate</a></span><span class="op">(</span><span class="fu">rjd3toolkit</span><span class="fu">::</span><span class="va"><a href="https://rjdverse.github.io/rjd3toolkit/reference/Retail.html" class="external-link">Retail</a></span><span class="op">$</span><span class="va">RetailSalesTotal</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># denton PFD without a preliminary series</span></span></span>
<span class="r-in"><span><span class="va">y1</span> <span class="op">&lt;-</span> <span class="fu">denton</span><span class="op">(</span>t <span class="op">=</span> <span class="va">Y</span>, nfreq <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">y1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Qtr1      Qtr2      Qtr3      Qtr4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1992  448459.8  450647.5  455022.8  461585.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1993  470336.7  479927.1  490357.2  501627.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1994  513736.5  524087.8  532680.9  539515.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1995  544592.4  551036.5  558848.0  568027.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996  578573.3  588029.0  596394.1  603668.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997  609852.3  615785.2  621467.2  626898.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998  632078.6  640029.7  650751.8  664244.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999  680508.8  695666.5  709717.8  722662.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000  734501.5  744312.0  752094.2  757848.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2001  761574.1  765207.3  768747.8  772195.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2002  775550.9  780104.8  785857.5  792808.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2003  800958.8  810650.7  821884.4  834660.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2004  848977.5  863156.5  877197.0  891099.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2005  904862.4  918091.9  930787.5  942949.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2006  954576.9  965410.8  975451.0  984697.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2007  993150.0  999850.8 1004799.9 1007997.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2008 1009442.9 1001537.3  984280.4  957672.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2009  921713.2  902491.3  900006.8  914259.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2010  945249.8  968492.5  983987.6  991735.1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># denton PFD without a preliminary series and conversion = "Average"</span></span></span>
<span class="r-in"><span><span class="fu">denton</span><span class="op">(</span>t <span class="op">=</span> <span class="va">Y</span>, nfreq <span class="op">=</span> <span class="fl">4</span>, conversion <span class="op">=</span> <span class="st">"Average"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Qtr1    Qtr2    Qtr3    Qtr4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1992 1793839 1802590 1820091 1846344</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1993 1881347 1919708 1961429 2006508</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1994 2054946 2096351 2130724 2158063</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1995 2178370 2204146 2235392 2272108</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996 2314293 2352116 2385576 2414674</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997 2439409 2463141 2485869 2507593</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998 2528314 2560119 2603007 2656980</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999 2722035 2782666 2838871 2890651</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000 2938006 2977248 3008377 3031393</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2001 3046297 3060829 3074991 3088783</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2002 3102204 3120419 3143430 3171235</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2003 3203835 3242603 3287538 3338640</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2004 3395910 3452626 3508788 3564396</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2005 3619450 3672368 3723150 3771797</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2006 3818307 3861643 3901804 3938789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2007 3972600 3999403 4019200 4031989</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2008 4037771 4006149 3937122 3830690</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2009 3686853 3609965 3600027 3657039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2010 3780999 3873970 3935950 3966940</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># denton PFD with a preliminary series</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">y1</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">y1</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">denton</span><span class="op">(</span>s <span class="op">=</span> <span class="va">x</span>, t <span class="op">=</span> <span class="va">Y</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Qtr1      Qtr2      Qtr3      Qtr4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1992  452252.4  431594.5  475592.7  456276.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1993  464975.1  478932.7  483960.9  514379.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1994  518589.7  514922.4  544945.1  531563.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1995  538353.4  550675.2  560070.4  573405.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996  578870.7  600143.2  580999.0  606652.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997  610164.7  613745.5  629293.1  620799.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998  631687.8  639941.5  651952.2  663523.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999  667225.9  690848.6  714652.8  735828.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000  730899.3  756724.9  745494.5  755637.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2001  754324.1  760258.1  774506.7  778636.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2002  769589.6  773817.5  778185.6  812729.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2003  806202.6  814316.4  813723.1  833911.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2004  841584.0  874817.2  867352.0  896676.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2005  908245.6  908998.7  954678.6  924768.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2006  949567.4  962146.7  972408.7  996013.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2007  999617.3 1002049.5 1000039.9 1004091.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2008  999962.4 1002485.6  979654.1  970830.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2009  913661.4  906649.3  901955.8  916204.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2010  950510.3  948778.9  990446.3  999729.4</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># denton AFD with a preliminary series</span></span></span>
<span class="r-in"><span><span class="fu">denton</span><span class="op">(</span>s <span class="op">=</span> <span class="va">x</span>, t <span class="op">=</span> <span class="va">Y</span>, mul <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Qtr1      Qtr2      Qtr3      Qtr4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1992  452254.0  431266.1  475891.5  456304.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1993  465013.3  478952.1  483988.9  514293.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1994  518674.6  515075.8  544865.8  531404.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1995  538073.7  550590.5  560194.9  573644.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996  579072.0  599971.4  581257.0  606364.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997  610023.9  613739.5  629348.8  620890.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998  631716.9  639937.6  651951.8  663498.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999  667029.7  690782.8  714741.3  736002.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000  730954.2  756758.3  745459.5  755584.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2001  754293.5  760253.7  774525.6  778652.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2002  769595.5  773820.9  778201.6  812704.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2003  806278.0  814376.2  813708.0  833791.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2004  841352.1  874804.1  867388.8  896885.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2005  908442.3  909176.7  954340.9  924731.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2006  949418.2  962111.0  972506.4  996100.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2007  999651.1 1002037.9 1000031.2 1004077.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2008 1000109.3 1002713.2  979582.9  970527.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2009  913319.0  906597.8  902153.1  916401.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2010  950519.9  948870.0  990394.1  999681.0</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jean Palate, Corentin Lemasson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

