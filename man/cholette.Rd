% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/benchmark.R
\name{cholette}
\alias{cholette}
\title{Benchmarking by means of the Cholette method}
\usage{
cholette(
  s,
  t,
  rho = 1,
  lambda = 1,
  bias = c("None", "Additive", "Multiplicative"),
  conversion = c("Sum", "Average", "Last", "First", "UserDefined"),
  obsposition = 1L
)
}
\arguments{
\item{s}{Preliminary series. Mandatory. It must be the same class as t.}

\item{t}{Aggregation constraint. Mandatory. It must be either an object of class ts or a numeric vector.}

\item{rho}{Numeric. Smoothing parameter whose value should be between 0 and 1. See vignette for more information on the choice of the rho parameter.}

\item{lambda}{Numeric. Adjustment model parameter. Typically, lambda = 1 for proportional benchmarking; lambda = 0 for additive benchmarking; and lambda = 0.5 with rho = 0 for the naive pro-rating method. See vignette for more information on the choice of the lambda parameter.}

\item{bias}{Character. Bias correction factor. No systematic bias is considered by default. See vignette for more details.}

\item{conversion}{Conversion rule. Usually "Sum" or "Average". Sum by default.}

\item{obsposition}{Position of the observation in the aggregated period (only used with "UserDefined" conversion).}
}
\value{
The benchmarked series is returned
}
\description{
Cholette method is based on a benchmarking methodology developed at
Statistics Canada. It is a generalized method relying on the principle of
movement preservation that encompasses other benchmarking methods.
The Denton method (both the AFD and PFD variants), as well as the naive
pro-rating method, emerge as particular cases of the Cholette method.
This method has been widely used for the purpose of benchmarking seasonally
adjusted series among others.
}
\examples{
ym_true <- rjd3toolkit::Retail$RetailSalesTotal
yq_true <- rjd3toolkit::aggregate(ym_true, 4)
Y_full <- rjd3toolkit::aggregate(ym_true, 1)

Y <- window(Y_full, end = c(2009,1)) # say no benchmark yet for the year 2010
xm <- ym_true + rnorm(n = length(ym_true), mean = -5000, sd = 10000)
xq <- rjd3toolkit::aggregate(xm, 4)

# Proportional benchmarking with a bias and some recommended value of rho for
# monthly and quarterly series respectively (see vignette)
cholette(s = xm, t = Y, rho = 0.9, lambda = 1, bias = "Multiplicative")
cholette(s = xq, t = Y, rho = 0.729, lambda = 1, bias = "Multiplicative")

# Proportional benchmarking with no bias
xm_no_bias <- ym_true + rnorm(n = length(ym_true), mean = 0, sd = 10000)
cholette(s = xm_no_bias, t = Y, rho = 0.9, lambda = 1)

# Additive benchmarking
cholette(s = xm, t = Y, rho = 0.9, lambda = 0, bias = "Additive")

# Denton PFD
cholette(s = xm, t = Y, rho = 1, lambda = 1)

# Pro-rating
cholette(s = xm, t = Y, rho = 0, lambda = 0.5)

}
\references{
Quenneville, B., Fortier S., Chen Z.-G., Latendresse E. (2006).
  Recent Developments in Benchmarking to Annual Totals in X12-ARIMA and at
  Statistics Canada. Statistics Canada, Working paper of the Time Series
  Research and Analysis Centre.
}
\seealso{
For more information, see the vignette:

\code{\link[utils]{browseVignettes}} \code{browseVignettes(package = "rjd3bench")}
}
