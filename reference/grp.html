<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Benchmarking following the growth rate preservation principle. — grp • rjd3bench</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Benchmarking following the growth rate preservation principle. — grp"><meta name="description" content="GRP is a method which explicitly preserves the period-to-period growth rates
of the preliminary series. It corresponds to the method of Cauley and Trager
(1981), using the solution proposed by Di Fonzo and Marini (2011). BFGS is
used as line-search algorithm for the reduced unconstrained minimization
problem."><meta property="og:description" content="GRP is a method which explicitly preserves the period-to-period growth rates
of the preliminary series. It corresponds to the method of Cauley and Trager
(1981), using the solution proposed by Di Fonzo and Marini (2011). BFGS is
used as line-search algorithm for the reduced unconstrained minimization
problem."><meta property="og:image" content="https://rjdverse.github.io/rjd3bench/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rjd3bench</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rjd3bench.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rjdverse/rjd3bench/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Benchmarking following the growth rate preservation principle.</h1>
      <small class="dont-index">Source: <a href="https://github.com/rjdverse/rjd3bench/blob/develop/R/benchmark.R" class="external-link"><code>R/benchmark.R</code></a></small>
      <div class="d-none name"><code>grp.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>GRP is a method which explicitly preserves the period-to-period growth rates
of the preliminary series. It corresponds to the method of Cauley and Trager
(1981), using the solution proposed by Di Fonzo and Marini (2011). BFGS is
used as line-search algorithm for the reduced unconstrained minimization
problem.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">grp</span><span class="op">(</span></span>
<span>  <span class="va">s</span>,</span>
<span>  <span class="va">t</span>,</span>
<span>  objective <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Forward"</span>, <span class="st">"Backward"</span>, <span class="st">"Symmetric"</span>, <span class="st">"Log"</span><span class="op">)</span>,</span>
<span>  conversion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sum"</span>, <span class="st">"Average"</span>, <span class="st">"Last"</span>, <span class="st">"First"</span>, <span class="st">"UserDefined"</span><span class="op">)</span>,</span>
<span>  obsposition <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  eps <span class="op">=</span> <span class="fl">1e-12</span>,</span>
<span>  iter <span class="op">=</span> <span class="fl">500L</span>,</span>
<span>  dentoninitialization <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-s">s<a class="anchor" aria-label="anchor" href="#arg-s"></a></dt>
<dd><p>Preliminary series. Mandatory. It must be a ts object.</p></dd>


<dt id="arg-t">t<a class="anchor" aria-label="anchor" href="#arg-t"></a></dt>
<dd><p>Aggregation constraint. Mandatory. It must be a ts object.</p></dd>


<dt id="arg-objective">objective<a class="anchor" aria-label="anchor" href="#arg-objective"></a></dt>
<dd><p>Objective function. See vignette and/or Daalmans et al.
(2018) for more information.</p></dd>


<dt id="arg-conversion">conversion<a class="anchor" aria-label="anchor" href="#arg-conversion"></a></dt>
<dd><p>Conversion rule. "Sum" by default.</p></dd>


<dt id="arg-obsposition">obsposition<a class="anchor" aria-label="anchor" href="#arg-obsposition"></a></dt>
<dd><p>Position of the observation in the aggregated period (only
used with "UserDefined" conversion)</p></dd>


<dt id="arg-eps">eps<a class="anchor" aria-label="anchor" href="#arg-eps"></a></dt>
<dd><p>Numeric. Defines the convergence precision. BFGS algorithm is run
until the reduction in the objective is within this eps value (1e-12 is the
default) or until the maximum number of iterations is hit.</p></dd>


<dt id="arg-iter">iter<a class="anchor" aria-label="anchor" href="#arg-iter"></a></dt>
<dd><p>Integer. Maximum number of iterations in BFGS algorithm (500 is
the default).</p></dd>


<dt id="arg-dentoninitialization">dentoninitialization<a class="anchor" aria-label="anchor" href="#arg-dentoninitialization"></a></dt>
<dd><p>indicate whether the series benchmarked via
modified Denton PFD is used as starting values of the GRP optimization
procedure (TRUE/FALSE, TRUE by default). If FALSE, the average benchmark is
used for flow variables (e.g. t/4 for quarterly series with annual
constraints and conversion = 'Sum'), or the benchmark for stock variables.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The benchmarked series is returned</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Causey, B., and Trager, M.L. (1981). Derivation of Solution to
  the Benchmarking Problem: Trend Revision. Unpublished research notes, U.S.
  Census Bureau, Washington D.C. Available as an appendix in Bozik and Otto
  (1988).</p>
<p>Di Fonzo, T., and Marini, M. (2011). A Newton's Method for Benchmarking
  Time Series according to a Growth Rates Preservation Principle. *IMF
  WP/11/179*.</p>
<p>Daalmans, J., Di Fonzo, T., Mushkudiani, N. and Bikker, R. (2018). Growth
  Rates Preservation (GRP) temporal benchmarking: Drawbacks and alternative
  solutions. *Statistics Canada*.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"qna_data"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="va">qna_data</span><span class="op">$</span><span class="va">B1G_Y_data</span><span class="op">[</span>, <span class="st">"B1G_FF"</span><span class="op">]</span>, frequency <span class="op">=</span> <span class="fl">1</span>, start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2009</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="denton.html">denton</a></span><span class="op">(</span>t <span class="op">=</span> <span class="va">Y</span>, nfreq <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">Y</span><span class="op">)</span> <span class="op">*</span> <span class="fl">4</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">grp</span><span class="op">(</span>s <span class="op">=</span> <span class="va">x</span>, t <span class="op">=</span> <span class="va">Y</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          Qtr1     Qtr2     Qtr3     Qtr4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2009 4391.190 4385.290 4401.376 4376.544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2010 4370.800 4387.240 4437.022 4525.038</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2011 4632.272 4716.528 4763.753 4743.448</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012 4736.253 4716.864 4696.824 4699.759</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2013 4667.696 4663.047 4674.790 4707.966</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2014 4722.907 4757.000 4762.253 4765.840</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2015 4787.509 4814.325 4829.647 4862.519</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016 4905.966 4906.591 4938.273 4927.570</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2017 4957.467 4968.445 5062.909 5161.079</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2018 5280.554 5394.618 5502.633 5589.595</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019 5635.901 5670.028 5638.706 5569.565</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2020 5471.618 5409.293 5365.378 5320.211</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jean Palate, Corentin Lemasson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

